@model BoVoyageMVC.Models.DossierReservation

@{
    ViewBag.Title = "Ma Réservation";
}
<div class="detail">
    <h2>@ViewBag.Title</h2>

    <div>

        <hr />
        <dl class="dl-horizontal">
            <dt>

                @Html.DisplayNameFor(model => model.Client.LastName)
            </dt>

            <dd>
                @Html.DisplayNameFor(model => model.Client.FisrtName)
                @Html.DisplayFor(model => model.Client.LastName)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Voyage.Destination.Country)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Voyage.Destination.Country)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Voyage.Destination.Region)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Voyage.Destination.Region)
            </dd>


            <dt>
                @Html.DisplayNameFor(model => model.Voyage.Destination.Description)
            </dt>

            <dd>
                @Html.Raw(Model.Voyage.Destination.Description)
            </dd>


            <dt>
                @Html.DisplayNameFor(model => model.Voyage.DepartureDate)
            </dt>

            <dd>
                @Model.Voyage.DepartureDate.ToShortDateString()
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Voyage.ReturnDate)
            </dt>

            <dd>
                @Model.Voyage.ReturnDate.ToShortDateString()
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Voyage.UnitPublicPrice)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Voyage.UnitPublicPrice)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.TotalPrice)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.TotalPrice) €
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Assurances)
            </dt>


            @if (Model.Assurances == null || Model.Assurances.Count() == 0)
            {
                <dd>
                </dd>
            }
            else
            {
                <dd>
                    @Html.Raw(Model.Assurances.First().TypeAssurance)
                </dd>
            }

            <dt>
                @Html.DisplayNameFor(model => model.EtatDossier)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.EtatDossier)
            </dd>
            @if (Model.EtatDossier == BoVoyageMVC.Models.EtatDossierReservation.Annule ||
                Model.EtatDossier == BoVoyageMVC.Models.EtatDossierReservation.Refusee)
            {
                <dt>
                    @Html.DisplayNameFor(model => model.RaisonAnnulationDossier)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.RaisonAnnulationDossier)
                </dd>
            }

            <dt>
                @Html.DisplayNameFor(model => model.CreditCardNumber)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.CreditCardNumber)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Participants)
            </dt>

            @{ if (Model.Participants == null || Model.Participants.Count() == 0)
                {
                    <dd>

                    </dd>
                }
                else
                {
                    foreach (BoVoyageMVC.Models.Participant participant in Model.Participants)
                    {
                        <dd>
                            @Html.DisplayFor(model => participant.FisrtName)
                        </dd>
                    }
                }
            }
        </dl>
    </div>
    <p>

        @Html.ActionLink("Retour", "Index", new { @class = "btn btn-info" })
    </p>
</div>